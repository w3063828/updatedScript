require 'csv'

DATA = [
    "010111001010111101000001010101010001011010101100111101010011001111011101001110110101010100111101",
    0.9514266480174921,
    "010010100111101110111001000100111100000101101100000101101001110111001100010011001000101000100001",
    0.92663673102325883,
    "100111011000001001010100000001001111011001000111011001100110010001000100101011111101011101000101",
    0.95146442237367568,
    "111100011010011001100100101010111001011101000011001101000000101010100010110000010010001000100110",
    0.95740986302413489,
    "111010110011110100110001000000100001010001100111101100110110010000000111000000100110011010110101",
    0.97604834038325,
    "000111110100010110100111110100110000110010110100111111110011110001000001110101111101010011110111",
    0.88348756684564411,
    "110111010110111000100100001101101110000111101111001111000101000101000001110101000110110000111001",
    0.96019462253806065,
    "011101001100111011000101111010001000110001000011110011110110010111110000000111110010000011000111",
    0.93754020979792374,
    "010000111011101010000101000000111100110001001111000011010000011000010100111010110111111111100001",
    0.94466698827480533,
    "100110100001101010011000000001001110100101110111011101000110110101110011101100101111110000111110",
    0.94915661451319844,
    "011100101000110000111110101101001100100110010100101011011001010110111110101010100100100101001001",
    0.93433136137023787,
    "110110010010000000000100101110110110111011111000000110111000000011110111001100011011101001101101",
    0.96288020975285349,
    "111001101000000101011011001011111010011110011000111100001111101101101101110110110001011111000110",
    0.96054820168658528,
    "011111111001000110100110101100001000001010010001101010111000110010101011001100001001110110110111",
    0.94063860074850947,
    "110101011101101110110111010010011010110100110111110010001101010101100000001010000011110111001010",
    0.96642617883509874,
    "110111011001011101110000100010111010110000001110111000000110110000101101010110110100110001100110",
    0.96880672692118153
]

CSV.open('data.csv', 'wb') do |row|
  row << %w(Chromosome Fitness kP kI kD)
  for key, val in Hash[*DATA]
    row << [
      key,
      val,
      key[0,32].to_i(2).to_f / 2**32,
      key[32,32].to_i(2).to_f / 2 ** 32,
      key[64,32].to_i(2).to_f / 2 ** 32
    ]
  end
end